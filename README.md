## Author
Argha Mitra
## Year
2024


# GROMACS Pressure Data Extraction & Correlation Analysis

This repository contains two primary scripts designed to facilitate the extraction and analysis of pressure data from molecular dynamics (MD) simulations conducted with GROMACS. GROMACS is a widely used software package for simulating proteins, lipids, and nucleic acids. 

## Scripts

- `gromacs_pxy.sh`: A shell script that automates the extraction of pressure data from MD simulations. It works across multiple simulation runs organized in subdirectories (e.g., r1, r2, ..., r100).

- `pressure_correlation.py`: A Python script that analyzes the extracted pressure data to compute correlations and the viscosity of the system.

## Prerequisites

- GROMACS installed with or without MPI support (`gmx_mpi`).
- Access to a Unix/Linux environment for the shell script.
- Python 3.10 (or above)
- Python packages: NumPy, MDAnalysis

## Getting Started

1. **Prepare Your Environment**:
   - Ensure GROMACS and Python are properly installed and accessible from your command line.
   - Install any Python libraries required by `pressure_correlation.py`.

2. **Organize Your Data**:
   - Your MD simulation runs should be organized in subdirectories named r1, r2, ..., r100 (Modify this with your number of replicas).
   - Each subdirectory should contain `production.edr` and `production.tpr` files from your simulations (All the replicas have the same `.trr` and `.tpr` file names).

3. **Extract Pressure Data**:
   - Run the `gromacs_pxy.sh` script from the parent directory containing your simulation subdirectories.
     ```
     bash gromacs_pxy.sh
     ```
   - The script will extract pressure data into `pressure.xvg` files within each subdirectory.

4. **Analyze Pressure Data**:
   - Use `pressure_correlation.py` to analyze the extracted data. Adjust the script as necessary for your specific analysis needs.
     ```
     python3 pressure_correlation.py
     ```

## Script Details

### `gromacs_pxy.sh`

This script iterates over specified subdirectories and uses GROMACS to extract pressure data, specifically the pressure-xy (`22`) or offdiagonal components, which are assumed to correspond to option '22' in the `gmx_mpi energy` command. This option number may need adjustment depending on the setup of your GROMACS energy file.

### `pressure_correlation.py`

This script likely reads the `pressure.xvg` files generated by the `gromacs_pxy.sh` script, computes correlations between pressure variations, calculates the average volume of the system, and converts the viscosity in the Pa.S unit. Additionally, this code also saves pressure-pressure correlation function wrt lagtime in separate `.txt` files for the replicas. Ensure to configure the script with the correct path to your `.xvg` files.

## Contributing
I welcome contributions from the community! If you have suggestions for improvements, bug fixes, or new features, please feel free to submit an issue or pull request on GitHub.


## License

This toolkit is available under the MIT License. Feel free to use, modify, and distribute it as per the license conditions.
For more details, see the [LICENSE](LICENSE.md) file in this repository.

